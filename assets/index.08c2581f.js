import{S as Ne,i as Pe,s as je,e as h,a as d,b as K,c as W,d as P,f as j,g as F,n as $,h as p,t as C,j as N,H as Ge,k as G,l as H,m as J,o as me,p as ve,q as ge,r as He,u as Oe,v as q,w as Y,x as Ve,y as Ke,z as O,A as Q,B as Z,C as We,D as _e,E as x,F as Je}from"./vendor.5feba4c8.js";const Qe=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const t of o.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&a(t)}).observe(document,{childList:!0,subtree:!0});function l(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=l(s);fetch(s.href,o)}};Qe();var Ue="./assets/agacer.377520d4.png",he="./assets/fete.a032e448.png",Xe="./assets/hop.bf0300ed.png",be="./assets/love.b7b36d38.png",Ye="./assets/nice.96a89ad7.png",we="./assets/yo.a10c0bf1.png",Ze="./assets/ah.3cae7849.png",$e="./assets/explosion.cd1ed6d6.png",qe="./assets/insulte.91a7d017.png",xe="./assets/oups.95649315.png",ee="./assets/logo-bleu-cyan.1e209fae.png",te="./assets/logo-bleu-yellow.a712c152.png",le="./assets/logo-cyan-rouge.dc4a0eac.png",se="./assets/logo-orange.7e2ceba1.png",ae="./assets/logo-vert.df232cbf.png",ie="./assets/logo-purple.1c5c63f6.png",ne="./assets/logo-rainbow.e4a4b1ee.png",oe="./assets/logo-red.22f7f7f9.png",re="./assets/logo-rose-orange.16d6a97f.png",fe="./assets/logo-violet-cyan.0e3d5285.png",ce="./assets/logo-violet.b80c0574.png",ue="./assets/logo-white.12249981.png",pe="./assets/logo-yellow.356b025e.png",et="./assets/bits.43bf2d1d.gif";function ke(n,e,l){const a=n.slice();return a[21]=e[l],a}function ye(n,e,l){const a=n.slice();return a[24]=e[l],a}function Ae(n){let e,l;return{c(){e=h("img"),d(e,"class","animationAvatar svelte-15p4tl"),K(e,"left",n[24].x+"%"),K(e,"top",n[24].y+"%"),K(e,"transform","scale("+n[24].r+")"),W(e.src,l=n[24].character)||d(e,"src",l),d(e,"alt"," ")},m(a,s){P(a,e,s)},p(a,s){s&32&&K(e,"left",a[24].x+"%"),s&32&&K(e,"top",a[24].y+"%"),s&32&&K(e,"transform","scale("+a[24].r+")"),s&32&&!W(e.src,l=a[24].character)&&d(e,"src",l)},d(a){a&&j(e)}}}function Le(n){let e,l,a=n[21].username+"",s,o,t,i=n[21].message+"",c;return{c(){e=h("p"),l=h("b"),s=N(a),o=N(":\xA0"),t=new Ge,d(l,"class","svelte-15p4tl"),t.a=null,d(e,"class","svelte-15p4tl")},m(m,u){P(m,e,u),p(e,l),p(l,s),p(l,o),t.m(i,e)},p(m,u){n=m,u&16&&a!==(a=n[21].username+"")&&G(s,a),u&16&&i!==(i=n[21].message+"")&&t.p(i)},i(m){c||H(()=>{c=O(e,Q,{duration:n[4].length>3?n[4].length>6?n[4].length>=n[7]-1?0:50:100:200}),c.start()})},o:J,d(m){m&&j(e)}}}function Me(n){let e,l,a=n[21].name+"",s,o,t,i,c=n[21].message+"",m,u;return{c(){e=h("div"),l=h("div"),s=N(a),o=F(),t=h("div"),i=h("p"),m=N(c),d(l,"class","top ban svelte-15p4tl"),d(i,"class","svelte-15p4tl"),d(t,"class","bottom svelte-15p4tl"),d(e,"class","Embed svelte-15p4tl")},m(r,f){P(r,e,f),p(e,l),p(l,s),p(e,o),p(e,t),p(t,i),p(i,m)},p(r,f){f&16&&a!==(a=r[21].name+"")&&G(s,a),f&16&&c!==(c=r[21].message+"")&&G(m,c)},i(r){u||H(()=>{u=O(e,Q,{duration:200}),u.start()})},o:J,d(r){r&&j(e)}}}function Ce(n){let e,l,a=n[21].name+"",s,o,t,i,c=n[21].message+"",m,u;return{c(){e=h("div"),l=h("div"),s=N(a),o=F(),t=h("div"),i=h("p"),m=N(c),d(l,"class","top warning svelte-15p4tl"),d(i,"class","svelte-15p4tl"),d(t,"class","bottom svelte-15p4tl"),d(e,"class","Embed svelte-15p4tl")},m(r,f){P(r,e,f),p(e,l),p(l,s),p(e,o),p(e,t),p(t,i),p(i,m)},p(r,f){f&16&&a!==(a=r[21].name+"")&&G(s,a),f&16&&c!==(c=r[21].message+"")&&G(m,c)},i(r){u||H(()=>{u=O(e,Q,{duration:200}),u.start()})},o:J,d(r){r&&j(e)}}}function Ee(n){let e,l,a=n[21].name+"",s,o,t,i,c=n[21].message+"",m,u;return{c(){e=h("div"),l=h("div"),s=N(a),o=F(),t=h("div"),i=h("p"),m=N(c),d(l,"class","top resub svelte-15p4tl"),d(i,"class","svelte-15p4tl"),d(t,"class","bottom svelte-15p4tl"),d(e,"class","Embed svelte-15p4tl")},m(r,f){P(r,e,f),p(e,l),p(l,s),p(e,o),p(e,t),p(t,i),p(i,m)},p(r,f){f&16&&a!==(a=r[21].name+"")&&G(s,a),f&16&&c!==(c=r[21].message+"")&&G(m,c)},i(r){u||H(()=>{u=O(e,Q,{duration:200}),u.start()})},o:J,d(r){r&&j(e)}}}function Te(n){let e,l,a=n[21].name+"",s,o,t,i,c=n[21].message+"",m,u;return{c(){e=h("div"),l=h("div"),s=N(a),o=F(),t=h("div"),i=h("p"),m=N(c),d(l,"class","top sub svelte-15p4tl"),d(i,"class","svelte-15p4tl"),d(t,"class","bottom svelte-15p4tl"),d(e,"class","Embed svelte-15p4tl")},m(r,f){P(r,e,f),p(e,l),p(l,s),p(e,o),p(e,t),p(t,i),p(i,m)},p(r,f){f&16&&a!==(a=r[21].name+"")&&G(s,a),f&16&&c!==(c=r[21].message+"")&&G(m,c)},i(r){u||H(()=>{u=O(e,Q,{duration:200}),u.start()})},o:J,d(r){r&&j(e)}}}function Ie(n){let e,l,a=n[21].name+"",s,o,t,i,c=n[21].message+"",m,u;return{c(){e=h("div"),l=h("div"),s=N(a),o=F(),t=h("div"),i=h("p"),m=N(c),d(l,"class","top cheers svelte-15p4tl"),d(i,"class","svelte-15p4tl"),d(t,"class","bottom svelte-15p4tl"),d(e,"class","Embed svelte-15p4tl")},m(r,f){P(r,e,f),p(e,l),p(l,s),p(e,o),p(e,t),p(t,i),p(i,m)},p(r,f){f&16&&a!==(a=r[21].name+"")&&G(s,a),f&16&&c!==(c=r[21].message+"")&&G(m,c)},i(r){u||H(()=>{u=O(e,Q,{duration:200}),u.start()})},o:J,d(r){r&&j(e)}}}function Re(n,e){let l,a,s,o,t,i,c,m,u,r,f=e[21].type=="tchat"&&Le(e),M=e[21].type=="ban"&&Me(e),A=e[21].type=="warning"&&Ce(e),k=e[21].type=="resub"&&Ee(e),y=e[21].type=="sub"&&Te(e),_=e[21].type=="cheers"&&Ie(e);return{key:n,first:null,c(){l=h("li"),f&&f.c(),a=F(),M&&M.c(),s=F(),A&&A.c(),o=F(),k&&k.c(),t=F(),y&&y.c(),i=F(),_&&_.c(),c=F(),d(l,"class",""+($(e[6])+" svelte-15p4tl")),this.first=l},m(I,E){P(I,l,E),f&&f.m(l,null),p(l,a),M&&M.m(l,null),p(l,s),A&&A.m(l,null),p(l,o),k&&k.m(l,null),p(l,t),y&&y.m(l,null),p(l,i),_&&_.m(l,null),p(l,c),r=!0},p(I,E){e=I,e[21].type=="tchat"?f?(f.p(e,E),E&16&&C(f,1)):(f=Le(e),f.c(),C(f,1),f.m(l,a)):f&&(f.d(1),f=null),e[21].type=="ban"?M?(M.p(e,E),E&16&&C(M,1)):(M=Me(e),M.c(),C(M,1),M.m(l,s)):M&&(M.d(1),M=null),e[21].type=="warning"?A?(A.p(e,E),E&16&&C(A,1)):(A=Ce(e),A.c(),C(A,1),A.m(l,o)):A&&(A.d(1),A=null),e[21].type=="resub"?k?(k.p(e,E),E&16&&C(k,1)):(k=Ee(e),k.c(),C(k,1),k.m(l,t)):k&&(k.d(1),k=null),e[21].type=="sub"?y?(y.p(e,E),E&16&&C(y,1)):(y=Te(e),y.c(),C(y,1),y.m(l,i)):y&&(y.d(1),y=null),e[21].type=="cheers"?_?(_.p(e,E),E&16&&C(_,1)):(_=Ie(e),_.c(),C(_,1),_.m(l,c)):_&&(_.d(1),_=null)},i(I){r||(C(f),C(M),C(A),C(k),C(y),C(_),H(()=>{u&&u.end(1),m=O(l,Z,{duration:e[4].length>3?e[4].length>6?(e[4].length>=e[7]-1,100):250:500}),m.start()}),r=!0)},o(I){m&&m.invalidate(),u=me(l,We,{}),r=!1},d(I){I&&j(l),f&&f.d(),M&&M.d(),A&&A.d(),k&&k.d(),y&&y.d(),_&&_.d(),I&&u&&u.end()}}}function Be(n){let e,l,a,s,o;return{c(){e=h("img"),W(e.src,l=n[3])||d(e,"src",l),d(e,"alt"," "),d(e,"class","svelte-15p4tl")},m(t,i){P(t,e,i),o=!0},p(t,i){(!o||i&8&&!W(e.src,l=t[3]))&&d(e,"src",l)},i(t){o||(H(()=>{s&&s.end(1),a=O(e,Z,{duration:400}),a.start()}),o=!0)},o(t){a&&a.invalidate(),s=me(e,Z,{delay:500,duration:1e3}),o=!1},d(t){t&&j(e),t&&s&&s.end()}}}function De(n){let e,l,a,s,o,t,i;return{c(){e=h("video"),l=h("source"),W(l.src,a=n[1])||d(l,"src",a),d(l,"type","video/mp4"),d(l,"class","svelte-15p4tl"),d(e,"class","videoClip svelte-15p4tl"),e.autoplay=!0},m(c,m){P(c,e,m),p(e,l),o=!0,t||(i=[ve(e,"error",n[8]),ve(e,"ended",n[9])],t=!0)},p(c,m){n=c,(!o||m&2&&!W(l.src,a=n[1]))&&d(l,"src",a)},i(c){o||(H(()=>{s||(s=ge(e,Z,{duration:1e3,easing:_e},!0)),s.run(1)}),o=!0)},o(c){s||(s=ge(e,Z,{duration:1e3,easing:_e},!1)),s.run(0),o=!1},d(c){c&&j(e),c&&s&&s.end(),t=!1,He(i)}}}function tt(n){let e,l,a,s,o,t,i=[],c=new Map,m,u,r,f,M,A,k,y=n[5],_=[];for(let v=0;v<y.length;v+=1)_[v]=Ae(ye(n,y,v));let I=n[4];const E=v=>v[21]._id;for(let v=0;v<I.length;v+=1){let w=ke(n,I,v),L=E(w);c.set(L,i[v]=Re(L,w))}let B=n[4].length&&Be(n),R=n[0]&&De(n);return{c(){e=h("main"),l=h("div");for(let v=0;v<_.length;v+=1)_[v].c();a=F(),s=h("div"),o=h("div"),t=h("ul");for(let v=0;v<i.length;v+=1)i[v].c();u=F(),r=h("div"),B&&B.c(),A=F(),R&&R.c(),d(t,"class",m=""+($(n[2].left==="true"?"alignLeft":"alignRight")+" svelte-15p4tl")),d(o,"class","textfields svelte-15p4tl"),d(r,"class",f="avatar "+(n[2].avatar==="true"?"":"none")+" svelte-15p4tl"),d(s,"class",M="gridApp "+(n[2].left==="true"?"gridLeft":"gridRight")+" "+(n[2].leskiel==="true"?"leskielTemplate":"")+" svelte-15p4tl"),d(l,"id","saver"),d(l,"class","svelte-15p4tl"),d(e,"class","svelte-15p4tl")},m(v,w){P(v,e,w),p(e,l);for(let L=0;L<_.length;L+=1)_[L].m(l,null);p(l,a),p(l,s),p(s,o),p(o,t);for(let L=0;L<i.length;L+=1)i[L].m(t,null);p(s,u),p(s,r),B&&B.m(r,null),p(e,A),R&&R.m(e,null),k=!0},p(v,[w]){if(w&32){y=v[5];let L;for(L=0;L<y.length;L+=1){const U=ye(v,y,L);_[L]?_[L].p(U,w):(_[L]=Ae(U),_[L].c(),_[L].m(l,a))}for(;L<_.length;L+=1)_[L].d(1);_.length=y.length}w&80&&(I=v[4],x(),i=Oe(i,w,E,1,v,I,c,t,Je,Re,null,ke),q()),(!k||w&4&&m!==(m=""+($(v[2].left==="true"?"alignLeft":"alignRight")+" svelte-15p4tl")))&&d(t,"class",m),v[4].length?B?(B.p(v,w),w&16&&C(B,1)):(B=Be(v),B.c(),C(B,1),B.m(r,null)):B&&(x(),Y(B,1,1,()=>{B=null}),q()),(!k||w&4&&f!==(f="avatar "+(v[2].avatar==="true"?"":"none")+" svelte-15p4tl"))&&d(r,"class",f),(!k||w&4&&M!==(M="gridApp "+(v[2].left==="true"?"gridLeft":"gridRight")+" "+(v[2].leskiel==="true"?"leskielTemplate":"")+" svelte-15p4tl"))&&d(s,"class",M),v[0]?R?(R.p(v,w),w&1&&C(R,1)):(R=De(v),R.c(),C(R,1),R.m(e,null)):R&&(x(),Y(R,1,1,()=>{R=null}),q())},i(v){if(!k){for(let w=0;w<I.length;w+=1)C(i[w]);C(B),C(R),k=!0}},o(v){for(let w=0;w<i.length;w+=1)Y(i[w]);Y(B),Y(R),k=!1},d(v){v&&j(e),Ve(_,v);for(let w=0;w<i.length;w+=1)i[w].d();B&&B.d(),R&&R.d()}}}function lt(n,e){var l=n.split("");for(var a in e){var s=e[a];for(var o in s){var t=s[o];if(typeof t=="string"){t=t.split("-"),t=[parseInt(t[0]),parseInt(t[1])];var i=t[1]-t[0],c=Array.apply(null,new Array(i+1)).map(function(){return""});l=l.slice(0,t[0]).concat(c).concat(l.slice(t[1]+1,l.length)),console.log('<img class="emote" style="width: 1.5em;"  src="http://static-cdn.jtvnw.net/emoticons/v2/'+a+'/default/dark/3.0" alt="'+a+'">'),l.splice(t[0],1,'<span ><img class="emote" style="width: 1.5em; vertical-align: bottom;"  src="http://static-cdn.jtvnw.net/emoticons/v2/'+a+'/default/dark/3.0" alt="'+a+'"></span>')}}}return l.join("")}function st(n,e,l){var L,U,de;let a=!1,s="";const o=new RegExp("(?:https://)?clips.twitch.tv/");let t={};t=location.search.split(/[?&]/g).reduce((T,g)=>{if(!g.trim())return T;const[b,S]=g.split("=");return T[b]=S,T},{}),console.log(t);const i=new tmi.Client({options:{debug:!1},connection:{secure:!0,reconnect:!0},channels:((L=t==null?void 0:t.chaine)==null?void 0:L.split(","))||["badbounstv"]});i.connect();let c=((U=t==null?void 0:t.customAvatar)==null?void 0:U.split(","))||[he,Xe,be,Ye,we,Ze],m=((de=t==null?void 0:t.customAvatar)==null?void 0:de.split(",")[0])||we,u=[],r,f=Date.now(),M=t.theme||"white";console.log(M);let A=[],k,y=parseInt(t.maxdelete)||8,_=parseInt(t.timemessage)||1e3;t.message==="true"&&i.on("message",async(T,g,b,S)=>{var D,z,X;if(g["message-type"]!="whisper"&&(console.log((D=t==null?void 0:t.blacklist)==null?void 0:D.split(",")),console.log(g["display-name"].toLowerCase()),console.log((z=t==null?void 0:t.blacklist)==null?void 0:z.split(",").includes(g["display-name"].toLowerCase())),!((X=t==null?void 0:t.blacklist)==null?void 0:X.split(",").includes(g["display-name"].toLowerCase())))){if(u.length!=0&&B(),b.includes("<")&&b.includes(">")&&g["display-name"].toLowerCase()!="badbounstv"&&(b=b.replace(/</gm,"< ")),o.test(b)){a&&(l(0,a=!1),l(1,s=""));const Se=b.split("clips.twitch.tv/")[1],Fe="https://cy49zmt23f.execute-api.us-east-1.amazonaws.com/dev/download_clip?id="+Se;try{const V=await fetch(Fe).then(ze=>ze.json());b="\u{1F3AC} "+V.data[0].title,console.log(T),console.log(V.data[0].broadcaster_name.toLowerCase()),T=="#badbounstv"&&T=="#"+V.data[0].broadcaster_name.toLowerCase()&&t.clip==="true"&&(l(1,s=V.data[0].thumbnail_url.split("-preview")[0]+".mp4"),l(0,a=!0))}catch(V){console.log(V)}}I({message:`${g.emotes==null?b:lt(b,g.emotes)}`,username:g["display-name"],type:"tchat"},15e3),u.length==0&&setTimeout(()=>{B()},500)}}),t.subscription==="true"&&(i.on("subscription",(T,g,b,S,D)=>{var z;E(be),t.animsub==="true"&&R(((z=t==null?void 0:t.customSub)==null?void 0:z.split(","))||[ee,te,le,se,ae,ie,ne,oe,re,fe,ce,ue,pe],100,2e4),I({message:`Merci pour le Sub @${g}`,name:"Sub",type:"sub"},3e4)}),i.on("resub",(T,g,b,S,D,z)=>{var X;E(he),t.animsub==="true"&&R(((X=t==null?void 0:t.customSub)==null?void 0:X.split(","))||[ee,te,le,se,ae,ie,ne,oe,re,fe,ce,ue,pe],100,2e4),I({message:`Merci pour le resub @${g}`,name:`Resub ${D["msg-param-cumulative-months"]}eme mois`,type:"resub"},3e4)})),i.on("messagedeleted",(T,g,b,S)=>{l(4,u=u.filter(D=>D.message!=b||D.username!=g)),t.deleted==="true"&&(E(xe),I({message:`Attention \xE0 ton langage @${g}`,name:"Warning",type:"warning"}))}),t.subgift==="true"&&i.on("submysterygift",(T,g,b,S,D)=>{var z;~~D["msg-param-sender-count"],E($e),t.animsubgift==="true"&&R(((z=t==null?void 0:t.customSubGif)==null?void 0:z.split(","))||[ee,te,le,se,ae,ie,ne,oe,re,fe,ce,ue,pe],100,1e4*b),I({message:`Merci @${g} pour ${b>1?`les ${b} sub gift`:"le sub gift"}`,name:"Sub Gift",type:"sub"},1e3*b>6e4?6e4:5e3*b)}),t.cheer==="true"&&i.on("cheer",(T,g,b)=>{var S;t.animcheer==="true"&&R(((S=t==null?void 0:t.customCheers)==null?void 0:S.split(","))||[et],100,1e4),I({message:`Merci ${g["display-name"]} pour les ${g.bits} Bits`,name:"Bits",type:"cheers"},g.bits<99?1e3:g.bits<1e3?5e3:g.bits<4999?15e3:g.bits*3.5)}),i.on("clearchat",T=>{l(4,u=[])}),t.ban==="true"&&i.on("ban",(T,g,b,S)=>{E(qe),I({message:`@${g} a \xE9t\xE9 ban !`,name:"Ban",type:"ban"})}),t.timeout==="true"&&i.on("timeout",(T,g,b,S,D)=>{E(Ue),I({message:`@${g} expuls\xE9 pour ${S} secondes`,name:"Time Out",type:"ban"})});const I=(T,g=5e3)=>{T._id=Ke(),l(4,u=[...u,T]),u.filter(b=>b.type=="tchat").length>y&&l(4,u=u.slice(u.length-y)),t.save!="true"&&setTimeout(()=>{l(4,u=u.filter(b=>b._id!==T._id))},g+_)};function E(T){f=Date.now(),(t==null?void 0:t.customAvatar)?B():l(3,m=T)}function B(){Date.now()-f>5e3&&(f=Date.now(),l(3,m=c[Math.floor(Math.random()*c.length)]))}function R(T,g,b){if(clearTimeout(k),k=setTimeout(()=>{cancelAnimationFrame(r),l(5,A=[])},b),A.length!=0)return;l(5,A=new Array(g).fill().map((D,z)=>({character:T[z%T.length],x:Math.random()*100,y:-40-Math.random()*100,r:.1+Math.random()*1})).sort((D,z)=>D.r-z.r));function S(){r=requestAnimationFrame(S),l(5,A=A.map(D=>(D.y+=.3*D.r,D.y>120&&(D.y=-40),D)))}S()}return[a,s,t,m,u,A,M,y,()=>l(0,a=!1),()=>l(0,a=!1)]}class at extends Ne{constructor(e){super();Pe(this,e,st,tt,je,{})}}new at({target:document.getElementById("app")});
