import{S as ye,i as Ae,s as Me,e as w,a as m,b as H,c as O,d as F,f as N,g as R,h as p,t as T,j as S,H as Le,k as D,l as P,n as z,m as ae,o as ie,u as Ee,p as ne,q as W,r as Te,v as Ie,w as G,x as K,y as j,z as Be,A as re,B as Re}from"./vendor.c213ee20.js";const Se=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function l(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerpolicy&&(u.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?u.credentials="include":s.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function t(s){if(s.ep)return;s.ep=!0;const u=l(s);fetch(s.href,u)}};Se();var De="./assets/agacer.377520d4.png",oe="./assets/fete.a032e448.png",Ce="./assets/hop.bf0300ed.png",ce="./assets/love.b7b36d38.png",Fe="./assets/nice.96a89ad7.png",ue="./assets/yo.a10c0bf1.png",Ne="./assets/ah.3cae7849.png",Pe="./assets/explosion.cd1ed6d6.png",Ge="./assets/insulte.91a7d017.png",He="./assets/oups.95649315.png",J="./assets/logo-bleu-cyan.1e209fae.png",Q="./assets/logo-bleu-yellow.a712c152.png",U="./assets/logo-cyan-rouge.dc4a0eac.png",V="./assets/logo-orange.7e2ceba1.png",X="./assets/logo-vert.df232cbf.png",Y="./assets/logo-purple.1c5c63f6.png",Z="./assets/logo-rainbow.e4a4b1ee.png",$="./assets/logo-red.22f7f7f9.png",q="./assets/logo-rose-orange.16d6a97f.png",x="./assets/logo-violet-cyan.0e3d5285.png",ee="./assets/logo-violet.b80c0574.png",te="./assets/logo-white.12249981.png",le="./assets/logo-yellow.356b025e.png",ze="./assets/bits.43bf2d1d.gif";function fe(c,e,l){const t=c.slice();return t[15]=e[l],t}function pe(c,e,l){const t=c.slice();return t[18]=e[l],t}function me(c){let e,l;return{c(){e=w("img"),m(e,"class","animationAvatar svelte-uhk5ec"),H(e,"left",c[18].x+"%"),H(e,"top",c[18].y+"%"),H(e,"transform","scale("+c[18].r+")"),O(e.src,l=c[18].character)||m(e,"src",l),m(e,"alt"," ")},m(t,s){F(t,e,s)},p(t,s){s&8&&H(e,"left",t[18].x+"%"),s&8&&H(e,"top",t[18].y+"%"),s&8&&H(e,"transform","scale("+t[18].r+")"),s&8&&!O(e.src,l=t[18].character)&&m(e,"src",l)},d(t){t&&N(e)}}}function ge(c){let e,l,t=c[15].username+"",s,u,a,i=c[15].message+"",g;return{c(){e=w("p"),l=w("b"),s=S(t),u=S(":\xA0"),a=new Le,m(l,"class","svelte-uhk5ec"),a.a=null,m(e,"class","svelte-uhk5ec")},m(v,d){F(v,e,d),p(e,l),p(l,s),p(l,u),a.m(i,e)},p(v,d){c=v,d&4&&t!==(t=c[15].username+"")&&D(s,t),d&4&&i!==(i=c[15].message+"")&&a.p(i)},i(v){g||P(()=>{g=G(e,K,{duration:c[2].length>3?c[2].length>6?c[2].length>=c[4]-1?0:50:100:200}),g.start()})},o:z,d(v){v&&N(e)}}}function ve(c){let e,l,t=c[15].name+"",s,u,a,i,g=c[15].message+"",v,d;return{c(){e=w("div"),l=w("div"),s=S(t),u=R(),a=w("div"),i=w("p"),v=S(g),m(l,"class","top ban svelte-uhk5ec"),m(i,"class","svelte-uhk5ec"),m(a,"class","bottom svelte-uhk5ec"),m(e,"class","Embed svelte-uhk5ec")},m(o,h){F(o,e,h),p(e,l),p(l,s),p(e,u),p(e,a),p(a,i),p(i,v)},p(o,h){h&4&&t!==(t=o[15].name+"")&&D(s,t),h&4&&g!==(g=o[15].message+"")&&D(v,g)},i(o){d||P(()=>{d=G(e,K,{duration:200}),d.start()})},o:z,d(o){o&&N(e)}}}function de(c){let e,l,t=c[15].name+"",s,u,a,i,g=c[15].message+"",v,d;return{c(){e=w("div"),l=w("div"),s=S(t),u=R(),a=w("div"),i=w("p"),v=S(g),m(l,"class","top warning svelte-uhk5ec"),m(i,"class","svelte-uhk5ec"),m(a,"class","bottom svelte-uhk5ec"),m(e,"class","Embed svelte-uhk5ec")},m(o,h){F(o,e,h),p(e,l),p(l,s),p(e,u),p(e,a),p(a,i),p(i,v)},p(o,h){h&4&&t!==(t=o[15].name+"")&&D(s,t),h&4&&g!==(g=o[15].message+"")&&D(v,g)},i(o){d||P(()=>{d=G(e,K,{duration:200}),d.start()})},o:z,d(o){o&&N(e)}}}function he(c){let e,l,t=c[15].name+"",s,u,a,i,g=c[15].message+"",v,d;return{c(){e=w("div"),l=w("div"),s=S(t),u=R(),a=w("div"),i=w("p"),v=S(g),m(l,"class","top resub svelte-uhk5ec"),m(i,"class","svelte-uhk5ec"),m(a,"class","bottom svelte-uhk5ec"),m(e,"class","Embed svelte-uhk5ec")},m(o,h){F(o,e,h),p(e,l),p(l,s),p(e,u),p(e,a),p(a,i),p(i,v)},p(o,h){h&4&&t!==(t=o[15].name+"")&&D(s,t),h&4&&g!==(g=o[15].message+"")&&D(v,g)},i(o){d||P(()=>{d=G(e,K,{duration:200}),d.start()})},o:z,d(o){o&&N(e)}}}function _e(c){let e,l,t=c[15].name+"",s,u,a,i,g=c[15].message+"",v,d;return{c(){e=w("div"),l=w("div"),s=S(t),u=R(),a=w("div"),i=w("p"),v=S(g),m(l,"class","top sub svelte-uhk5ec"),m(i,"class","svelte-uhk5ec"),m(a,"class","bottom svelte-uhk5ec"),m(e,"class","Embed svelte-uhk5ec")},m(o,h){F(o,e,h),p(e,l),p(l,s),p(e,u),p(e,a),p(a,i),p(i,v)},p(o,h){h&4&&t!==(t=o[15].name+"")&&D(s,t),h&4&&g!==(g=o[15].message+"")&&D(v,g)},i(o){d||P(()=>{d=G(e,K,{duration:200}),d.start()})},o:z,d(o){o&&N(e)}}}function be(c){let e,l,t=c[15].name+"",s,u,a,i,g=c[15].message+"",v,d;return{c(){e=w("div"),l=w("div"),s=S(t),u=R(),a=w("div"),i=w("p"),v=S(g),m(l,"class","top cheers svelte-uhk5ec"),m(i,"class","svelte-uhk5ec"),m(a,"class","bottom svelte-uhk5ec"),m(e,"class","Embed svelte-uhk5ec")},m(o,h){F(o,e,h),p(e,l),p(l,s),p(e,u),p(e,a),p(a,i),p(i,v)},p(o,h){h&4&&t!==(t=o[15].name+"")&&D(s,t),h&4&&g!==(g=o[15].message+"")&&D(v,g)},i(o){d||P(()=>{d=G(e,K,{duration:200}),d.start()})},o:z,d(o){o&&N(e)}}}function ke(c,e){let l,t,s,u,a,i,g,v,d,o,h,L=e[15].type=="tchat"&&ge(e),b=e[15].type=="ban"&&ve(e),k=e[15].type=="warning"&&de(e),_=e[15].type=="resub"&&he(e),A=e[15].type=="sub"&&_e(e),E=e[15].type=="cheers"&&be(e);return{key:c,first:null,c(){l=w("li"),L&&L.c(),t=R(),b&&b.c(),s=R(),k&&k.c(),u=R(),_&&_.c(),a=R(),A&&A.c(),i=R(),E&&E.c(),g=R(),m(l,"class",v=""+((e[0].rgb==="true"?"rgb":"white")+" "+(e[0].dark==="true"?"dark":"white")+" svelte-uhk5ec")),this.first=l},m(y,n){F(y,l,n),L&&L.m(l,null),p(l,t),b&&b.m(l,null),p(l,s),k&&k.m(l,null),p(l,u),_&&_.m(l,null),p(l,a),A&&A.m(l,null),p(l,i),E&&E.m(l,null),p(l,g),h=!0},p(y,n){e=y,e[15].type=="tchat"?L?(L.p(e,n),n&4&&T(L,1)):(L=ge(e),L.c(),T(L,1),L.m(l,t)):L&&(L.d(1),L=null),e[15].type=="ban"?b?(b.p(e,n),n&4&&T(b,1)):(b=ve(e),b.c(),T(b,1),b.m(l,s)):b&&(b.d(1),b=null),e[15].type=="warning"?k?(k.p(e,n),n&4&&T(k,1)):(k=de(e),k.c(),T(k,1),k.m(l,u)):k&&(k.d(1),k=null),e[15].type=="resub"?_?(_.p(e,n),n&4&&T(_,1)):(_=he(e),_.c(),T(_,1),_.m(l,a)):_&&(_.d(1),_=null),e[15].type=="sub"?A?(A.p(e,n),n&4&&T(A,1)):(A=_e(e),A.c(),T(A,1),A.m(l,i)):A&&(A.d(1),A=null),e[15].type=="cheers"?E?(E.p(e,n),n&4&&T(E,1)):(E=be(e),E.c(),T(E,1),E.m(l,g)):E&&(E.d(1),E=null),(!h||n&1&&v!==(v=""+((e[0].rgb==="true"?"rgb":"white")+" "+(e[0].dark==="true"?"dark":"white")+" svelte-uhk5ec")))&&m(l,"class",v)},i(y){h||(T(L),T(b),T(k),T(_),T(A),T(E),P(()=>{o&&o.end(1),d=G(l,j,{delay:e[2].length?380:0,duration:e[2].length>3?e[2].length>6?(e[2].length>=e[4]-1,100):250:500}),d.start()}),h=!0)},o(y){d&&d.invalidate(),o=ae(l,Be,{}),h=!1},d(y){y&&N(l),L&&L.d(),b&&b.d(),k&&k.d(),_&&_.d(),A&&A.d(),E&&E.d(),y&&o&&o.end()}}}function we(c){let e,l,t,s,u;return{c(){e=w("img"),O(e.src,l=c[1])||m(e,"src",l),m(e,"alt"," "),m(e,"class","svelte-uhk5ec")},m(a,i){F(a,e,i),u=!0},p(a,i){(!u||i&2&&!O(e.src,l=a[1]))&&m(e,"src",l)},i(a){u||(P(()=>{s&&s.end(1),t=G(e,j,{duration:400}),t.start()}),u=!0)},o(a){t&&t.invalidate(),s=ae(e,j,{delay:500,duration:1e3}),u=!1},d(a){a&&N(e),a&&s&&s.end()}}}function Ke(c){let e,l,t,s,u,a,i=[],g=new Map,v,d,o,h,L,b,k=c[3],_=[];for(let n=0;n<k.length;n+=1)_[n]=me(pe(c,k,n));let A=c[2];const E=n=>n[15]._id;for(let n=0;n<A.length;n+=1){let f=fe(c,A,n),r=E(f);g.set(r,i[n]=ke(r,f))}let y=c[2].length&&we(c);return{c(){e=w("main"),l=w("div");for(let n=0;n<_.length;n+=1)_[n].c();t=R(),s=w("div"),u=w("div"),a=w("ul");for(let n=0;n<i.length;n+=1)i[n].c();d=R(),o=w("div"),y&&y.c(),m(a,"class",v=""+(ie(c[0].left==="true"?"alignLeft":"alignRight")+" svelte-uhk5ec")),m(u,"class","textfields svelte-uhk5ec"),m(o,"class",h="avatar "+(c[0].avatar==="true"?"":"none")+" svelte-uhk5ec"),m(s,"class",L="gridApp "+(c[0].left==="true"?"gridLeft":"gridRight")+" svelte-uhk5ec"),m(l,"id","saver"),m(l,"class","svelte-uhk5ec"),m(e,"class","svelte-uhk5ec")},m(n,f){F(n,e,f),p(e,l);for(let r=0;r<_.length;r+=1)_[r].m(l,null);p(l,t),p(l,s),p(s,u),p(u,a);for(let r=0;r<i.length;r+=1)i[r].m(a,null);p(s,d),p(s,o),y&&y.m(o,null),b=!0},p(n,[f]){if(f&8){k=n[3];let r;for(r=0;r<k.length;r+=1){const M=pe(n,k,r);_[r]?_[r].p(M,f):(_[r]=me(M),_[r].c(),_[r].m(l,t))}for(;r<_.length;r+=1)_[r].d(1);_.length=k.length}f&5&&(A=n[2],re(),i=Ee(i,f,E,1,n,A,g,a,Re,ke,null,fe),ne()),(!b||f&1&&v!==(v=""+(ie(n[0].left==="true"?"alignLeft":"alignRight")+" svelte-uhk5ec")))&&m(a,"class",v),n[2].length?y?(y.p(n,f),f&4&&T(y,1)):(y=we(n),y.c(),T(y,1),y.m(o,null)):y&&(re(),W(y,1,1,()=>{y=null}),ne()),(!b||f&1&&h!==(h="avatar "+(n[0].avatar==="true"?"":"none")+" svelte-uhk5ec"))&&m(o,"class",h),(!b||f&1&&L!==(L="gridApp "+(n[0].left==="true"?"gridLeft":"gridRight")+" svelte-uhk5ec"))&&m(s,"class",L)},i(n){if(!b){for(let f=0;f<A.length;f+=1)T(i[f]);T(y),b=!0}},o(n){for(let f=0;f<i.length;f+=1)W(i[f]);W(y),b=!1},d(n){n&&N(e),Te(_,n);for(let f=0;f<i.length;f+=1)i[f].d();y&&y.d()}}}function Oe(c,e){var l=c.split("");for(var t in e){var s=e[t];for(var u in s){var a=s[u];if(typeof a=="string"){a=a.split("-"),a=[parseInt(a[0]),parseInt(a[1])];var i=a[1]-a[0],g=Array.apply(null,new Array(i+1)).map(function(){return""});l=l.slice(0,a[0]).concat(g).concat(l.slice(a[1]+1,l.length)),l.splice(a[0],1,'<img class="emote" style="width: 1.5em;"  src="http://static-cdn.jtvnw.net/emoticons/v1/'+t+'/3.0" alt="'+t+'">')}}}return l.join("")}function We(c,e,l){var E,y,n;let t={};t=location.search.split(/[?&]/g).reduce((f,r)=>{if(!r.trim())return f;const[M,B]=r.split("=");return f[M]=B,f},{});const s=new tmi.Client({options:{debug:!1},connection:{secure:!0,reconnect:!0},channels:((E=t==null?void 0:t.chaine)==null?void 0:E.split(","))||["badbounstv"]});s.connect();let u=((y=t==null?void 0:t.customAvatar)==null?void 0:y.split(","))||[oe,Ce,ce,Fe,ue,Ne],a=((n=t==null?void 0:t.customAvatar)==null?void 0:n.split(",")[0])||ue,i=[],g,v=Date.now(),d=[],o,h=parseInt(t.maxdelete)||8,L=parseInt(t.timemessage)||1e3;t.message==="true"&&s.on("message",(f,r,M,B)=>{r["message-type"]!="whisper"&&(i.length!=0&&_(),r.emotes==null?b({message:`${M}`,username:r["display-name"],type:"tchat"},15e3):b({message:`${Oe(M,r.emotes)}`,username:r["display-name"],type:"tchat"},15e3),i.length==0&&setTimeout(()=>{_()},500))}),t.subscription==="true"&&(s.on("subscription",(f,r,M,B,I)=>{var C;k(ce),t.animsub==="true"&&A(((C=t==null?void 0:t.customSub)==null?void 0:C.split(","))||[J,Q,U,V,X,Y,Z,$,q,x,ee,te,le],100,2e4),b({message:`Merci pour le Sub @${r}`,name:"Sub",type:"sub"},3e4)}),s.on("resub",(f,r,M,B,I,C)=>{var se;k(oe),t.animsub==="true"&&A(((se=t==null?void 0:t.customSub)==null?void 0:se.split(","))||[J,Q,U,V,X,Y,Z,$,q,x,ee,te,le],100,2e4),b({message:`Merci pour le resub @${r}`,name:`Resub ${I["msg-param-cumulative-months"]}eme mois`,type:"resub"},3e4)})),s.on("messagedeleted",(f,r,M,B)=>{l(2,i=i.filter(I=>I.message!=M||I.username!=r)),t.deleted==="true"&&(k(He),b({message:`Attention \xE0 ton langage @${r}`,name:"Warning",type:"warning"}))}),t.subgift==="true"&&s.on("submysterygift",(f,r,M,B,I)=>{var C;~~I["msg-param-sender-count"],k(Pe),t.animsubgift==="true"&&A(((C=t==null?void 0:t.customSubGif)==null?void 0:C.split(","))||[J,Q,U,V,X,Y,Z,$,q,x,ee,te,le],100,1e4*M),b({message:`Merci @${r} pour ${M>1?`les ${M} sub gift`:"le sub gift"}`,name:"Sub Gift",type:"sub"},1e3*M>6e4?6e4:5e3*M)}),t.cheer==="true"&&s.on("cheer",(f,r,M)=>{var B;t.animcheer==="true"&&A(((B=t==null?void 0:t.customCheers)==null?void 0:B.split(","))||[ze],100,1e4),b({message:`Merci ${r["display-name"]} pour les ${r.bits} Bits`,name:"Bits",type:"cheers"},r.bits<99?1e3:r.bits<1e3?5e3:r.bits<4999?15e3:r.bits*3.5)}),s.on("clearchat",f=>{l(2,i=[])}),t.ban==="true"&&s.on("ban",(f,r,M,B)=>{k(Ge),b({message:`@${r} a \xE9t\xE9 ban !`,name:"Ban",type:"ban"})}),t.timeout==="true"&&s.on("timeout",(f,r,M,B,I)=>{k(De),b({message:`@${r} expuls\xE9 pour ${B} secondes`,name:"Time Out",type:"ban"})});const b=(f,r=5e3)=>{f._id=Ie(),l(2,i=[...i,f]),i.filter(M=>M.type=="tchat").length>h&&l(2,i=i.slice(i.length-h)),t.save!="true"&&(console.log(i.length),setTimeout(()=>{l(2,i=i.filter(M=>M._id!==f._id))},r+L))};function k(f){v=Date.now(),(t==null?void 0:t.customAvatar)?_():l(1,a=f)}function _(){Date.now()-v>5e3&&(v=Date.now(),l(1,a=u[Math.floor(Math.random()*u.length)]))}function A(f,r,M){if(clearTimeout(o),o=setTimeout(()=>{cancelAnimationFrame(g),l(3,d=[])},M),d.length!=0)return;l(3,d=new Array(r).fill().map((I,C)=>({character:f[C%f.length],x:Math.random()*100,y:-40-Math.random()*100,r:.1+Math.random()*1})).sort((I,C)=>I.r-C.r));function B(){g=requestAnimationFrame(B),l(3,d=d.map(I=>(I.y+=.3*I.r,I.y>120&&(I.y=-40),I)))}B()}return[t,a,i,d,h]}class je extends ye{constructor(e){super();Ae(this,e,We,Ke,Me,{})}}new je({target:document.getElementById("app")});
