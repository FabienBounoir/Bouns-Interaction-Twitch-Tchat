import{S as be,i as _e,s as he,e as w,a as b,b as C,c as P,d as B,f as L,g as E,n as x,h as g,t as M,j as S,H as ke,k as T,l as D,m as F,o as ee,u as we,p as te,q as H,r as ye,v as qe,w as I,x as N,y as z,z as Ae,A as le,B as Me}from"./vendor.d2c7445e.js";const Ee=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const p of a)if(p.type==="childList")for(const n of p.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function t(a){const p={};return a.integrity&&(p.integrity=a.integrity),a.referrerpolicy&&(p.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?p.credentials="include":a.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function s(a){if(a.ep)return;a.ep=!0;const p=t(a);fetch(a.href,p)}};Ee();var Se="./assets/agacer.377520d4.png",se="./assets/fete.a032e448.png",Te="./assets/hop.bf0300ed.png",ae="./assets/love.b7b36d38.png",Oe="./assets/nice.96a89ad7.png",ne="./assets/yo.a10c0bf1.png",Be="./assets/ah.3cae7849.png",Le="./assets/explosion.cd1ed6d6.png",De="./assets/insulte.91a7d017.png",Ie="./assets/oups.95649315.png",G="./assets/logo-bleu-cyan.1e209fae.png",K="./assets/logo-bleu-yellow.a712c152.png",R="./assets/logo-cyan-rouge.dc4a0eac.png",W="./assets/logo-orange.7e2ceba1.png",j="./assets/logo-vert.df232cbf.png",J="./assets/logo-purple.1c5c63f6.png",Q="./assets/logo-rainbow.e4a4b1ee.png",U="./assets/logo-red.22f7f7f9.png",V="./assets/logo-rose-orange.16d6a97f.png",X="./assets/logo-violet-cyan.0e3d5285.png",Y="./assets/logo-violet.b80c0574.png",Z="./assets/logo-white.12249981.png",$="./assets/logo-yellow.356b025e.png",Ce="./assets/bits.43bf2d1d.gif";function ie(u,e,t){const s=u.slice();return s[13]=e[t],s}function oe(u,e,t){const s=u.slice();return s[16]=e[t],s}function re(u){let e,t;return{c(){e=w("img"),b(e,"class","animationAvatar svelte-1bknwqf"),C(e,"left",u[16].x+"%"),C(e,"top",u[16].y+"%"),C(e,"transform","scale("+u[16].r+")"),P(e.src,t=u[16].character)||b(e,"src",t),b(e,"alt"," ")},m(s,a){B(s,e,a)},p(s,a){a&8&&C(e,"left",s[16].x+"%"),a&8&&C(e,"top",s[16].y+"%"),a&8&&C(e,"transform","scale("+s[16].r+")"),a&8&&!P(e.src,t=s[16].character)&&b(e,"src",t)},d(s){s&&L(e)}}}function fe(u){let e,t,s=u[13].username+"",a,p,n,i=u[13].message+"",d;return{c(){e=w("p"),t=w("b"),a=S(s),p=S(":\xA0"),n=new ke,b(t,"class","svelte-1bknwqf"),n.a=null,b(e,"class","svelte-1bknwqf")},m(_,v){B(_,e,v),g(e,t),g(t,a),g(t,p),n.m(i,e)},p(_,v){u=_,v&4&&s!==(s=u[13].username+"")&&T(a,s),v&4&&i!==(i=u[13].message+"")&&n.p(i)},i(_){d||D(()=>{d=I(e,N,{duration:u[2].length>3?u[2].length>6?u[2].length>9?0:50:100:200}),d.start()})},o:F,d(_){_&&L(e)}}}function ce(u){let e,t,s=u[13].name+"",a,p,n,i,d=u[13].message+"",_,v;return{c(){e=w("div"),t=w("div"),a=S(s),p=E(),n=w("div"),i=w("p"),_=S(d),b(t,"class","top ban svelte-1bknwqf"),b(i,"class","svelte-1bknwqf"),b(n,"class","bottom svelte-1bknwqf"),b(e,"class","Embed svelte-1bknwqf")},m(r,m){B(r,e,m),g(e,t),g(t,a),g(e,p),g(e,n),g(n,i),g(i,_)},p(r,m){m&4&&s!==(s=r[13].name+"")&&T(a,s),m&4&&d!==(d=r[13].message+"")&&T(_,d)},i(r){v||D(()=>{v=I(e,N,{duration:200}),v.start()})},o:F,d(r){r&&L(e)}}}function ue(u){let e,t,s=u[13].name+"",a,p,n,i,d=u[13].message+"",_,v;return{c(){e=w("div"),t=w("div"),a=S(s),p=E(),n=w("div"),i=w("p"),_=S(d),b(t,"class","top warning svelte-1bknwqf"),b(i,"class","svelte-1bknwqf"),b(n,"class","bottom svelte-1bknwqf"),b(e,"class","Embed svelte-1bknwqf")},m(r,m){B(r,e,m),g(e,t),g(t,a),g(e,p),g(e,n),g(n,i),g(i,_)},p(r,m){m&4&&s!==(s=r[13].name+"")&&T(a,s),m&4&&d!==(d=r[13].message+"")&&T(_,d)},i(r){v||D(()=>{v=I(e,N,{duration:200}),v.start()})},o:F,d(r){r&&L(e)}}}function pe(u){let e,t,s=u[13].name+"",a,p,n,i,d=u[13].message+"",_,v;return{c(){e=w("div"),t=w("div"),a=S(s),p=E(),n=w("div"),i=w("p"),_=S(d),b(t,"class","top resub svelte-1bknwqf"),b(i,"class","svelte-1bknwqf"),b(n,"class","bottom svelte-1bknwqf"),b(e,"class","Embed svelte-1bknwqf")},m(r,m){B(r,e,m),g(e,t),g(t,a),g(e,p),g(e,n),g(n,i),g(i,_)},p(r,m){m&4&&s!==(s=r[13].name+"")&&T(a,s),m&4&&d!==(d=r[13].message+"")&&T(_,d)},i(r){v||D(()=>{v=I(e,N,{duration:200}),v.start()})},o:F,d(r){r&&L(e)}}}function me(u){let e,t,s=u[13].name+"",a,p,n,i,d=u[13].message+"",_,v;return{c(){e=w("div"),t=w("div"),a=S(s),p=E(),n=w("div"),i=w("p"),_=S(d),b(t,"class","top sub svelte-1bknwqf"),b(i,"class","svelte-1bknwqf"),b(n,"class","bottom svelte-1bknwqf"),b(e,"class","Embed svelte-1bknwqf")},m(r,m){B(r,e,m),g(e,t),g(t,a),g(e,p),g(e,n),g(n,i),g(i,_)},p(r,m){m&4&&s!==(s=r[13].name+"")&&T(a,s),m&4&&d!==(d=r[13].message+"")&&T(_,d)},i(r){v||D(()=>{v=I(e,N,{duration:200}),v.start()})},o:F,d(r){r&&L(e)}}}function ge(u){let e,t,s=u[13].name+"",a,p,n,i,d=u[13].message+"",_,v;return{c(){e=w("div"),t=w("div"),a=S(s),p=E(),n=w("div"),i=w("p"),_=S(d),b(t,"class","top cheers svelte-1bknwqf"),b(i,"class","svelte-1bknwqf"),b(n,"class","bottom svelte-1bknwqf"),b(e,"class","Embed svelte-1bknwqf")},m(r,m){B(r,e,m),g(e,t),g(t,a),g(e,p),g(e,n),g(n,i),g(i,_)},p(r,m){m&4&&s!==(s=r[13].name+"")&&T(a,s),m&4&&d!==(d=r[13].message+"")&&T(_,d)},i(r){v||D(()=>{v=I(e,N,{duration:200}),v.start()})},o:F,d(r){r&&L(e)}}}function ve(u,e){let t,s,a,p,n,i,d,_,v,r,m,k=e[13].type=="tchat"&&fe(e),h=e[13].type=="ban"&&ce(e),y=e[13].type=="warning"&&ue(e),q=e[13].type=="resub"&&pe(e),o=e[13].type=="sub"&&me(e),l=e[13].type=="cheers"&&ge(e);return{key:u,first:null,c(){t=w("li"),k&&k.c(),s=E(),h&&h.c(),a=E(),y&&y.c(),p=E(),q&&q.c(),n=E(),o&&o.c(),i=E(),l&&l.c(),d=E(),b(t,"class",_=""+(x(e[0].dark==="true"?"dark":"white")+" svelte-1bknwqf")),this.first=t},m(f,c){B(f,t,c),k&&k.m(t,null),g(t,s),h&&h.m(t,null),g(t,a),y&&y.m(t,null),g(t,p),q&&q.m(t,null),g(t,n),o&&o.m(t,null),g(t,i),l&&l.m(t,null),g(t,d),m=!0},p(f,c){e=f,e[13].type=="tchat"?k?(k.p(e,c),c&4&&M(k,1)):(k=fe(e),k.c(),M(k,1),k.m(t,s)):k&&(k.d(1),k=null),e[13].type=="ban"?h?(h.p(e,c),c&4&&M(h,1)):(h=ce(e),h.c(),M(h,1),h.m(t,a)):h&&(h.d(1),h=null),e[13].type=="warning"?y?(y.p(e,c),c&4&&M(y,1)):(y=ue(e),y.c(),M(y,1),y.m(t,p)):y&&(y.d(1),y=null),e[13].type=="resub"?q?(q.p(e,c),c&4&&M(q,1)):(q=pe(e),q.c(),M(q,1),q.m(t,n)):q&&(q.d(1),q=null),e[13].type=="sub"?o?(o.p(e,c),c&4&&M(o,1)):(o=me(e),o.c(),M(o,1),o.m(t,i)):o&&(o.d(1),o=null),e[13].type=="cheers"?l?(l.p(e,c),c&4&&M(l,1)):(l=ge(e),l.c(),M(l,1),l.m(t,d)):l&&(l.d(1),l=null),(!m||c&1&&_!==(_=""+(x(e[0].dark==="true"?"dark":"white")+" svelte-1bknwqf")))&&b(t,"class",_)},i(f){m||(M(k),M(h),M(y),M(q),M(o),M(l),D(()=>{r&&r.end(1),v=I(t,z,{delay:e[2].length?380:0,duration:e[2].length>3?e[2].length>6?e[2].length>9?0:100:250:500}),v.start()}),m=!0)},o(f){v&&v.invalidate(),r=ee(t,Ae,{}),m=!1},d(f){f&&L(t),k&&k.d(),h&&h.d(),y&&y.d(),q&&q.d(),o&&o.d(),l&&l.d(),f&&r&&r.end()}}}function de(u){let e,t,s,a,p;return{c(){e=w("img"),P(e.src,t=u[1])||b(e,"src",t),b(e,"alt"," "),b(e,"class","svelte-1bknwqf")},m(n,i){B(n,e,i),p=!0},p(n,i){(!p||i&2&&!P(e.src,t=n[1]))&&b(e,"src",t)},i(n){p||(D(()=>{a&&a.end(1),s=I(e,z,{duration:400}),s.start()}),p=!0)},o(n){s&&s.invalidate(),a=ee(e,z,{delay:500,duration:1e3}),p=!1},d(n){n&&L(e),n&&a&&a.end()}}}function Fe(u){let e,t,s,a,p,n,i=[],d=new Map,_,v,r,m,k=u[3],h=[];for(let l=0;l<k.length;l+=1)h[l]=re(oe(u,k,l));let y=u[2];const q=l=>l[13]._id;for(let l=0;l<y.length;l+=1){let f=ie(u,y,l),c=q(f);d.set(c,i[l]=ve(c,f))}let o=u[2].length&&de(u);return{c(){e=w("main"),t=w("div");for(let l=0;l<h.length;l+=1)h[l].c();s=E(),a=w("div"),p=w("div"),n=w("ul");for(let l=0;l<i.length;l+=1)i[l].c();_=E(),v=w("div"),o&&o.c(),b(n,"class","svelte-1bknwqf"),b(p,"class","textfields svelte-1bknwqf"),b(v,"class",r="avatar "+(u[0].avatar==="true"?"":"none")+" svelte-1bknwqf"),b(a,"class","gridApp svelte-1bknwqf"),b(t,"id","saver"),b(t,"class","svelte-1bknwqf"),b(e,"class","svelte-1bknwqf")},m(l,f){B(l,e,f),g(e,t);for(let c=0;c<h.length;c+=1)h[c].m(t,null);g(t,s),g(t,a),g(a,p),g(p,n);for(let c=0;c<i.length;c+=1)i[c].m(n,null);g(a,_),g(a,v),o&&o.m(v,null),m=!0},p(l,[f]){if(f&8){k=l[3];let c;for(c=0;c<k.length;c+=1){const A=oe(l,k,c);h[c]?h[c].p(A,f):(h[c]=re(A),h[c].c(),h[c].m(t,s))}for(;c<h.length;c+=1)h[c].d(1);h.length=k.length}f&5&&(y=l[2],le(),i=we(i,f,q,1,l,y,d,n,Me,ve,null,ie),te()),l[2].length?o?(o.p(l,f),f&4&&M(o,1)):(o=de(l),o.c(),M(o,1),o.m(v,null)):o&&(le(),H(o,1,1,()=>{o=null}),te()),(!m||f&1&&r!==(r="avatar "+(l[0].avatar==="true"?"":"none")+" svelte-1bknwqf"))&&b(v,"class",r)},i(l){if(!m){for(let f=0;f<y.length;f+=1)M(i[f]);M(o),m=!0}},o(l){for(let f=0;f<i.length;f+=1)H(i[f]);H(o),m=!1},d(l){l&&L(e),ye(h,l);for(let f=0;f<i.length;f+=1)i[f].d();o&&o.d()}}}function Ne(u,e){var t=u.split("");for(var s in e){var a=e[s];for(var p in a){var n=a[p];if(typeof n=="string"){n=n.split("-"),n=[parseInt(n[0]),parseInt(n[1])];var i=n[1]-n[0],d=Array.apply(null,new Array(i+1)).map(function(){return""});t=t.slice(0,n[0]).concat(d).concat(t.slice(n[1]+1,t.length)),t.splice(n[0],1,'<img class="emote" style="width: 1.5em;"  src="http://static-cdn.jtvnw.net/emoticons/v1/'+s+'/3.0" alt="'+s+'">')}}}return t.join("")}function Pe(u,e,t){var q;let s={};s=location.search.split(/[?&]/g).reduce((o,l)=>{if(!l.trim())return o;const[f,c]=l.split("=");return o[f]=c,o},{});const a=new tmi.Client({options:{debug:!1},connection:{secure:!0,reconnect:!0},channels:((q=s==null?void 0:s.chaine)==null?void 0:q.split(","))||["badbounstv"]});a.connect();let p=[se,Te,ae,Oe,ne,Be],n=ne,i=[],d,_=Date.now(),v=[],r;s.message==="true"&&a.on("message",(o,l,f,c)=>{l["message-type"]!="whisper"&&(i.length!=0&&h(),l.emotes==null?m({message:`${f}`,username:l.username,type:"tchat"},1e4):m({message:`${Ne(f,l.emotes)}`,username:l.username,type:"tchat"}),i.length==0&&setTimeout(()=>{h()},500))}),s.subscription==="true"&&(a.on("subscription",(o,l,f,c,A)=>{console.log("=============================="),console.log(l,f),console.log(A),console.log("=============================="),k(ae),s.animsub==="true"&&y([G,K,R,W,j,J,Q,U,V,X,Y,Z,$],100,1e4),m({message:`Merci pour le Sub @${l}`,name:"Sub",type:"sub"},1e4)}),a.on("resub",(o,l,f,c,A,O)=>{k(se),console.log("=============================="),console.log(l,c),console.log(A),console.log(O),console.log("=============================="),s.animsub==="true"&&y([G,K,R,W,j,J,Q,U,V,X,Y,Z,$],100,1e4),m({message:`Merci pour le resub @${l}`,name:`Resub ${A["msg-param-cumulative-months"]}eme mois`,type:"resub"},1e4)})),a.on("messagedeleted",(o,l,f,c)=>{t(2,i=i.filter(A=>A.message!=f||A.username!=l)),s.deleted==="true"&&(k(Ie),m({message:`Attention \xE0 ton langage @${l}`,name:"Warning",type:"warning"}))}),s.subgift==="true"&&a.on("submysterygift",(o,l,f,c,A)=>{let O=~~A["msg-param-sender-count"];console.log("Sub offert aleatoire"),k(Le),s.animsubgift==="true"&&y([G,K,R,W,j,J,Q,U,V,X,Y,Z,$],100,1e4*O),m({message:`Merci @${l} pour les ${O} sub gift`,name:"Sub Gift",type:"sub"},1e3*O>6e4?6e4:1e3*O)}),s.cheer==="true"&&a.on("cheer",(o,l,f)=>{console.log(l),s.animcheer==="true"&&y([Ce],100,1e4),m({message:`Merci ${l["display-name"]} pour les ${l.bits} Bits`,name:"Bits",type:"cheers"},1e4)}),a.on("clearchat",o=>{t(2,i=[])}),s.ban==="true"&&a.on("ban",(o,l,f,c)=>{k(De),m({message:`@${l} a \xE9t\xE9 ban !`,name:"Ban",type:"ban"})}),s.timeout==="true"&&a.on("timeout",(o,l,f,c,A)=>{k(Se),m({message:`@${l} expuls\xE9 pour ${c} secondes`,name:"Time Out",type:"ban"})});const m=(o,l=5e3)=>{o._id=qe(),t(2,i=[...i,o]),i.filter(f=>f.type=="tchat").length>8&&t(2,i=i.slice(i.length-8)),setTimeout(()=>{t(2,i=i.filter(f=>f._id!==o._id))},l+1e3)};function k(o){_=Date.now(),t(1,n=o)}function h(){Date.now()-_>5e3&&(_=Date.now(),t(1,n=p[Math.floor(Math.random()*p.length)]))}function y(o,l,f){if(clearTimeout(r),r=setTimeout(()=>{cancelAnimationFrame(d),t(3,v=[])},f),v.length!=0)return;t(3,v=new Array(l).fill().map((A,O)=>({character:o[O%o.length],x:Math.random()*100,y:-40-Math.random()*100,r:.1+Math.random()*1})).sort((A,O)=>A.r-O.r));function c(){d=requestAnimationFrame(c),t(3,v=v.map(A=>(A.y+=.3*A.r,A.y>120&&(A.y=-40),A)))}c()}return[s,n,i,v]}class He extends be{constructor(e){super();_e(this,e,Pe,Fe,he,{})}}new He({target:document.getElementById("app")});
