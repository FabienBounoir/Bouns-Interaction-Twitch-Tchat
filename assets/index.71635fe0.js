import{S as _e,i as he,s as be,e as y,a as b,b as I,c as P,d as q,f as B,g as S,h as m,t as A,j as T,H as ye,k as O,l as C,n as F,m as x,u as we,o as ee,p as H,q as ke,v as Ae,r as D,w as Me,x as z,y as te,z as Ee,A as N}from"./vendor.8bb1a5a1.js";const Se=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const n of u.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&l(n)}).observe(document,{childList:!0,subtree:!0});function t(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerpolicy&&(u.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?u.credentials="include":s.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(s){if(s.ep)return;s.ep=!0;const u=t(s);fetch(s.href,u)}};Se();var Te="./assets/agacer.377520d4.png",se="./assets/fete.a032e448.png",Oe="./assets/hop.bf0300ed.png",le="./assets/love.b7b36d38.png",Le="./assets/nice.96a89ad7.png",ae="./assets/yo.a10c0bf1.png",qe="./assets/ah.3cae7849.png",Be="./assets/explosion.cd1ed6d6.png",Ce="./assets/insulte.91a7d017.png",De="./assets/oups.95649315.png",G="./assets/logo-bleu-cyan.1e209fae.png",K="./assets/logo-bleu-yellow.a712c152.png",R="./assets/logo-cyan-rouge.dc4a0eac.png",W="./assets/logo-orange.7e2ceba1.png",j="./assets/logo-vert.df232cbf.png",J="./assets/logo-purple.1c5c63f6.png",Q="./assets/logo-rainbow.e4a4b1ee.png",U="./assets/logo-red.22f7f7f9.png",V="./assets/logo-rose-orange.16d6a97f.png",X="./assets/logo-violet-cyan.0e3d5285.png",Y="./assets/logo-violet.b80c0574.png",Z="./assets/logo-white.12249981.png",$="./assets/logo-yellow.356b025e.png",ne="./assets/bits.43bf2d1d.gif";function oe(p,e,t){const l=p.slice();return l[13]=e[t],l}function ie(p,e,t){const l=p.slice();return l[16]=e[t],l}function re(p){let e,t;return{c(){e=y("img"),b(e,"class","animationAvatar svelte-1ss4mvo"),I(e,"left",p[16].x+"%"),I(e,"top",p[16].y+"%"),I(e,"transform","scale("+p[16].r+")"),P(e.src,t=p[16].character)||b(e,"src",t),b(e,"alt"," ")},m(l,s){q(l,e,s)},p(l,s){s&4&&I(e,"left",l[16].x+"%"),s&4&&I(e,"top",l[16].y+"%"),s&4&&I(e,"transform","scale("+l[16].r+")"),s&4&&!P(e.src,t=l[16].character)&&b(e,"src",t)},d(l){l&&B(e)}}}function ce(p){let e,t,l=p[13].username+"",s,u,n,o=p[13].message+"",g;return{c(){e=y("p"),t=y("b"),s=T(l),u=T(":\xA0"),n=new ye,b(t,"class","svelte-1ss4mvo"),n.a=null,b(e,"class","svelte-1ss4mvo")},m(d,v){q(d,e,v),m(e,t),m(t,s),m(t,u),n.m(o,e)},p(d,v){v&2&&l!==(l=d[13].username+"")&&O(s,l),v&2&&o!==(o=d[13].message+"")&&n.p(o)},i(d){g||C(()=>{g=D(e,N,{duration:200}),g.start()})},o:F,d(d){d&&B(e)}}}function fe(p){let e,t,l=p[13].name+"",s,u,n,o,g=p[13].message+"",d,v;return{c(){e=y("div"),t=y("div"),s=T(l),u=S(),n=y("div"),o=y("p"),d=T(g),b(t,"class","top ban svelte-1ss4mvo"),b(o,"class","svelte-1ss4mvo"),b(n,"class","bottom svelte-1ss4mvo"),b(e,"class","Embed svelte-1ss4mvo")},m(f,r){q(f,e,r),m(e,t),m(t,s),m(e,u),m(e,n),m(n,o),m(o,d)},p(f,r){r&2&&l!==(l=f[13].name+"")&&O(s,l),r&2&&g!==(g=f[13].message+"")&&O(d,g)},i(f){v||C(()=>{v=D(e,N,{duration:200}),v.start()})},o:F,d(f){f&&B(e)}}}function ue(p){let e,t,l=p[13].name+"",s,u,n,o,g=p[13].message+"",d,v;return{c(){e=y("div"),t=y("div"),s=T(l),u=S(),n=y("div"),o=y("p"),d=T(g),b(t,"class","top warning svelte-1ss4mvo"),b(o,"class","svelte-1ss4mvo"),b(n,"class","bottom svelte-1ss4mvo"),b(e,"class","Embed svelte-1ss4mvo")},m(f,r){q(f,e,r),m(e,t),m(t,s),m(e,u),m(e,n),m(n,o),m(o,d)},p(f,r){r&2&&l!==(l=f[13].name+"")&&O(s,l),r&2&&g!==(g=f[13].message+"")&&O(d,g)},i(f){v||C(()=>{v=D(e,N,{duration:200}),v.start()})},o:F,d(f){f&&B(e)}}}function me(p){let e,t,l=p[13].name+"",s,u,n,o,g=p[13].message+"",d,v;return{c(){e=y("div"),t=y("div"),s=T(l),u=S(),n=y("div"),o=y("p"),d=T(g),b(t,"class","top resub svelte-1ss4mvo"),b(o,"class","svelte-1ss4mvo"),b(n,"class","bottom svelte-1ss4mvo"),b(e,"class","Embed svelte-1ss4mvo")},m(f,r){q(f,e,r),m(e,t),m(t,s),m(e,u),m(e,n),m(n,o),m(o,d)},p(f,r){r&2&&l!==(l=f[13].name+"")&&O(s,l),r&2&&g!==(g=f[13].message+"")&&O(d,g)},i(f){v||C(()=>{v=D(e,N,{duration:200}),v.start()})},o:F,d(f){f&&B(e)}}}function ve(p){let e,t,l=p[13].name+"",s,u,n,o,g=p[13].message+"",d,v;return{c(){e=y("div"),t=y("div"),s=T(l),u=S(),n=y("div"),o=y("p"),d=T(g),b(t,"class","top sub svelte-1ss4mvo"),b(o,"class","svelte-1ss4mvo"),b(n,"class","bottom svelte-1ss4mvo"),b(e,"class","Embed svelte-1ss4mvo")},m(f,r){q(f,e,r),m(e,t),m(t,s),m(e,u),m(e,n),m(n,o),m(o,d)},p(f,r){r&2&&l!==(l=f[13].name+"")&&O(s,l),r&2&&g!==(g=f[13].message+"")&&O(d,g)},i(f){v||C(()=>{v=D(e,N,{duration:200}),v.start()})},o:F,d(f){f&&B(e)}}}function pe(p){let e,t,l=p[13].name+"",s,u,n,o,g=p[13].message+"",d,v;return{c(){e=y("div"),t=y("div"),s=T(l),u=S(),n=y("div"),o=y("p"),d=T(g),b(t,"class","top cheers svelte-1ss4mvo"),b(o,"class","svelte-1ss4mvo"),b(n,"class","bottom svelte-1ss4mvo"),b(e,"class","Embed svelte-1ss4mvo")},m(f,r){q(f,e,r),m(e,t),m(t,s),m(e,u),m(e,n),m(n,o),m(o,d)},p(f,r){r&2&&l!==(l=f[13].name+"")&&O(s,l),r&2&&g!==(g=f[13].message+"")&&O(d,g)},i(f){v||C(()=>{v=D(e,N,{duration:200}),v.start()})},o:F,d(f){f&&B(e)}}}function ge(p,e){let t,l,s,u,n,o,g,d,v,f,r=e[13].type=="tchat"&&ce(e),_=e[13].type=="ban"&&fe(e),w=e[13].type=="warning"&&ue(e),k=e[13].type=="resub"&&me(e),h=e[13].type=="sub"&&ve(e),a=e[13].type=="cheers"&&pe(e);return{key:p,first:null,c(){t=y("li"),r&&r.c(),l=S(),_&&_.c(),s=S(),w&&w.c(),u=S(),k&&k.c(),n=S(),h&&h.c(),o=S(),a&&a.c(),g=S(),b(t,"class","svelte-1ss4mvo"),this.first=t},m(i,c){q(i,t,c),r&&r.m(t,null),m(t,l),_&&_.m(t,null),m(t,s),w&&w.m(t,null),m(t,u),k&&k.m(t,null),m(t,n),h&&h.m(t,null),m(t,o),a&&a.m(t,null),m(t,g),f=!0},p(i,c){e=i,e[13].type=="tchat"?r?(r.p(e,c),c&2&&A(r,1)):(r=ce(e),r.c(),A(r,1),r.m(t,l)):r&&(r.d(1),r=null),e[13].type=="ban"?_?(_.p(e,c),c&2&&A(_,1)):(_=fe(e),_.c(),A(_,1),_.m(t,s)):_&&(_.d(1),_=null),e[13].type=="warning"?w?(w.p(e,c),c&2&&A(w,1)):(w=ue(e),w.c(),A(w,1),w.m(t,u)):w&&(w.d(1),w=null),e[13].type=="resub"?k?(k.p(e,c),c&2&&A(k,1)):(k=me(e),k.c(),A(k,1),k.m(t,n)):k&&(k.d(1),k=null),e[13].type=="sub"?h?(h.p(e,c),c&2&&A(h,1)):(h=ve(e),h.c(),A(h,1),h.m(t,o)):h&&(h.d(1),h=null),e[13].type=="cheers"?a?(a.p(e,c),c&2&&A(a,1)):(a=pe(e),a.c(),A(a,1),a.m(t,g)):a&&(a.d(1),a=null)},i(i){f||(A(r),A(_),A(w),A(k),A(h),A(a),C(()=>{v&&v.end(1),d=D(t,z,{delay:380,duration:500}),d.start()}),f=!0)},o(i){d&&d.invalidate(),v=x(t,Me,{}),f=!1},d(i){i&&B(t),r&&r.d(),_&&_.d(),w&&w.d(),k&&k.d(),h&&h.d(),a&&a.d(),i&&v&&v.end()}}}function de(p){let e,t,l,s,u;return{c(){e=y("img"),P(e.src,t=p[0])||b(e,"src",t),b(e,"alt"," "),b(e,"class","svelte-1ss4mvo")},m(n,o){q(n,e,o),u=!0},p(n,o){(!u||o&1&&!P(e.src,t=n[0]))&&b(e,"src",t)},i(n){u||(C(()=>{s&&s.end(1),l=D(e,z,{duration:400}),l.start()}),u=!0)},o(n){l&&l.invalidate(),s=x(e,z,{delay:500,duration:1e3}),u=!1},d(n){n&&B(e),n&&s&&s.end()}}}function Ie(p){let e,t,l,s,u,n,o=[],g=new Map,d,v,f,r=p[2],_=[];for(let a=0;a<r.length;a+=1)_[a]=re(ie(p,r,a));let w=p[1];const k=a=>a[13]._id;for(let a=0;a<w.length;a+=1){let i=oe(p,w,a),c=k(i);g.set(c,o[a]=ge(c,i))}let h=p[1].length&&de(p);return{c(){e=y("main"),t=y("div");for(let a=0;a<_.length;a+=1)_[a].c();l=S(),s=y("div"),u=y("div"),n=y("ul");for(let a=0;a<o.length;a+=1)o[a].c();d=S(),v=y("div"),h&&h.c(),b(n,"class","svelte-1ss4mvo"),b(u,"class","textfields svelte-1ss4mvo"),b(v,"class","avatar svelte-1ss4mvo"),b(s,"class","gridApp svelte-1ss4mvo"),b(t,"id","saver"),b(t,"class","svelte-1ss4mvo"),b(e,"class","svelte-1ss4mvo")},m(a,i){q(a,e,i),m(e,t);for(let c=0;c<_.length;c+=1)_[c].m(t,null);m(t,l),m(t,s),m(s,u),m(u,n);for(let c=0;c<o.length;c+=1)o[c].m(n,null);m(s,d),m(s,v),h&&h.m(v,null),f=!0},p(a,[i]){if(i&4){r=a[2];let c;for(c=0;c<r.length;c+=1){const E=ie(a,r,c);_[c]?_[c].p(E,i):(_[c]=re(E),_[c].c(),_[c].m(t,l))}for(;c<_.length;c+=1)_[c].d(1);_.length=r.length}i&2&&(w=a[1],te(),o=we(o,i,k,1,a,w,g,n,Ee,ge,null,oe),ee()),a[1].length?h?(h.p(a,i),i&2&&A(h,1)):(h=de(a),h.c(),A(h,1),h.m(v,null)):h&&(te(),H(h,1,1,()=>{h=null}),ee())},i(a){if(!f){for(let i=0;i<w.length;i+=1)A(o[i]);A(h),f=!0}},o(a){for(let i=0;i<o.length;i+=1)H(o[i]);H(h),f=!1},d(a){a&&B(e),ke(_,a);for(let i=0;i<o.length;i+=1)o[i].d();h&&h.d()}}}function Fe(p,e){var t=p.split("");for(var l in e){var s=e[l];for(var u in s){var n=s[u];if(typeof n=="string"){n=n.split("-"),n=[parseInt(n[0]),parseInt(n[1])];var o=n[1]-n[0],g=Array.apply(null,new Array(o+1)).map(function(){return""});t=t.slice(0,n[0]).concat(g).concat(t.slice(n[1]+1,t.length)),t.splice(n[0],1,'<img class="emote" style="width: 1.5em;"  src="http://static-cdn.jtvnw.net/emoticons/v1/'+l+'/3.0">')}}}return t.join("")}function Ne(p,e,t){var h;let l={};l=location.search.split(/[?&]/g).reduce((a,i)=>{if(!i.trim())return a;const[c,E]=i.split("=");return a[c]=E,a},{});const s=new tmi.Client({options:{debug:!1},connection:{secure:!0,reconnect:!0},channels:((h=l==null?void 0:l.chaine)==null?void 0:h.split(","))||["badbounstv"]});s.connect();let u=[se,Oe,le,Le,ae,qe],n=ae,o=[],g,d=Date.now(),v=[],f;l.message==="true"&&s.on("message",(a,i,c,E)=>{i["message-type"]!="whisper"&&(o.length!=0&&w(),i.emotes==null?(c=="Coucou"&&k([ne],100,1e4),r({message:`${c}`,username:i.username,type:"tchat"},1e4)):r({message:`${Fe(c,i.emotes)}`,username:i.username,type:"tchat"}),o.length==0&&setTimeout(()=>{w()},500))}),l.subscription==="true"&&(s.on("subscription",(a,i,c,E,M)=>{console.log("=============================="),console.log(i,c),console.log(M),console.log("=============================="),_(le),k([G,K,R,W,j,J,Q,U,V,X,Y,Z,$],100,1e4),r({message:`Merci pour le Sub @${i}`,name:"Sub",type:"sub"},1e4)}),s.on("resub",(a,i,c,E,M,L)=>{_(se),console.log("=============================="),console.log(i,E),console.log(M),console.log(L),console.log("=============================="),k([G,K,R,W,j,J,Q,U,V,X,Y,Z,$],100,1e4),r({message:`Merci pour le resub @${i}`,name:`Resub ${M["msg-param-cumulative-months"]}eme mois`,type:"resub"},1e4)})),s.on("messagedeleted",(a,i,c,E)=>{t(1,o=o.filter(M=>M.message!=c||M.username!=i)),l.deleted==="true"&&(_(De),r({message:`Attention \xE0 ton langage @${i}`,name:"Warning",type:"warning"}))}),l.subgift==="true"&&s.on("submysterygift",(a,i,c,E,M)=>{let L=~~M["msg-param-sender-count"];console.log("Sub offert aleatoire"),_(Be),k([G,K,R,W,j,J,Q,U,V,X,Y,Z,$],100,1e4*L),r({message:`Merci @${i} pour les ${L} sub gift`,name:"Sub Gift",type:"sub"},1e3*L>6e4?6e4:1e3*L)}),l.cheer==="true"&&s.on("cheer",(a,i,c)=>{console.log(i),k([ne],100,1e4),r({message:`Merci ${i["display-name"]} pour les ${i.bits} Bits`,name:"Bits",type:"cheers"},1e4)}),s.on("clearchat",a=>{t(1,o=[])}),l.ban==="true"&&s.on("ban",(a,i,c,E)=>{_(Ce),r({message:`@${i} a \xE9t\xE9 ban !`,name:"Ban",type:"ban"})}),l.timeout==="true"&&s.on("timeout",(a,i,c,E,M)=>{_(Te),r({message:`@${i} expuls\xE9 pour ${E} secondes`,name:"Time Out",type:"ban"})});const r=(a,i=5e3)=>{a._id=Ae(),t(1,o=[...o,a]),o.filter(c=>c.type=="tchat").length>8&&t(1,o=o.slice(o.length-8)),setTimeout(()=>{t(1,o=o.filter(c=>c._id!==a._id))},i+1e3)};function _(a){d=Date.now(),t(0,n=a)}function w(){Date.now()-d>5e3&&(d=Date.now(),t(0,n=u[Math.floor(Math.random()*u.length)]))}function k(a,i,c){if(clearTimeout(f),f=setTimeout(()=>{cancelAnimationFrame(g),t(2,v=[])},c),v.length!=0)return;t(2,v=new Array(i).fill().map((M,L)=>({character:a[L%a.length],x:Math.random()*100,y:-40-Math.random()*100,r:.1+Math.random()*1})).sort((M,L)=>M.r-L.r));function E(){g=requestAnimationFrame(E),t(2,v=v.map(M=>(M.y+=.3*M.r,M.y>120&&(M.y=-40),M)))}E()}return[n,o,v]}class Pe extends _e{constructor(e){super();he(this,e,Ne,Ie,be,{})}}new Pe({target:document.getElementById("app")});
